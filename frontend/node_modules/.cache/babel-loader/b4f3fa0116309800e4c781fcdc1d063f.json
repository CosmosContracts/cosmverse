{"ast":null,"code":"import { hasFocusWithin, focus } from \"@chakra-ui/utils\";\nimport { useUpdateEffect } from \"./use-update-effect\";\n/**\n * React hook to focus an element conditionally\n *\n * @param ref the ref of the element to focus\n * @param options focus management options\n */\n\nexport function useFocusEffect(ref, options) {\n  var {\n    shouldFocus,\n    preventScroll\n  } = options;\n  useUpdateEffect(() => {\n    var node = ref.current;\n    if (!node || !shouldFocus) return;\n\n    if (!hasFocusWithin(node)) {\n      focus(node, {\n        preventScroll,\n        nextTick: true\n      });\n    }\n  }, [shouldFocus, ref, preventScroll]);\n}","map":{"version":3,"sources":["../../src/use-focus-effect.ts"],"names":["preventScroll","useUpdateEffect","node","ref","hasFocusWithin","focus","nextTick"],"mappings":"AACA,SAAA,cAAA,EAAA,KAAA,QAAA,kBAAA;AACA,SAAA,eAAA,QAAA,qBAAA;AAMA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAA,cAAA,CAAA,GAAA,EAAA,OAAA,EAGL;AACA,MAAM;AAAA,IAAA,WAAA;AAAeA,IAAAA;AAAf,MAAN,OAAA;AAEAC,EAAAA,eAAe,CAAC,MAAM;AACpB,QAAMC,IAAI,GAAGC,GAAG,CAAhB,OAAA;AAEA,QAAI,CAAA,IAAA,IAAS,CAAb,WAAA,EAA2B;;AAE3B,QAAI,CAACC,cAAc,CAAnB,IAAmB,CAAnB,EAA2B;AACzBC,MAAAA,KAAK,CAAA,IAAA,EAAO;AAAA,QAAA,aAAA;AAAiBC,QAAAA,QAAQ,EAAE;AAA3B,OAAP,CAALD;AACD;AAPY,GAAA,EAQZ,CAAA,WAAA,EAAA,GAAA,EARHJ,aAQG,CARY,CAAfA;AASD","sourcesContent":["import * as React from \"react\"\nimport { hasFocusWithin, focus } from \"@chakra-ui/utils\"\nimport { useUpdateEffect } from \"./use-update-effect\"\n\nexport type UseFocusEffectOptions = {\n  shouldFocus: boolean\n  preventScroll?: boolean\n}\n/**\n * React hook to focus an element conditionally\n *\n * @param ref the ref of the element to focus\n * @param options focus management options\n */\nexport function useFocusEffect<T extends HTMLElement>(\n  ref: React.RefObject<T>,\n  options: UseFocusEffectOptions,\n) {\n  const { shouldFocus, preventScroll } = options\n\n  useUpdateEffect(() => {\n    const node = ref.current\n\n    if (!node || !shouldFocus) return\n\n    if (!hasFocusWithin(node)) {\n      focus(node, { preventScroll, nextTick: true })\n    }\n  }, [shouldFocus, ref, preventScroll])\n}\n"]},"metadata":{},"sourceType":"module"}