{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"/Users/pauloponciano/Documents/cosmverse/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/pauloponciano/Documents/cosmverse/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DefaultValueProducer = void 0; // allows pre-producing values before anyone is listening\n\nvar DefaultValueProducer = /*#__PURE__*/function () {\n  function DefaultValueProducer(value, callbacks) {\n    _classCallCheck(this, DefaultValueProducer);\n\n    this.callbacks = callbacks;\n    this.internalValue = value;\n  }\n\n  _createClass(DefaultValueProducer, [{\n    key: \"value\",\n    get: function get() {\n      return this.internalValue;\n    }\n    /**\n     * Update the current value.\n     *\n     * If producer is active (i.e. someone is listening), this emits an event.\n     * If not, just the current value is updated.\n     */\n\n  }, {\n    key: \"update\",\n    value: function update(value) {\n      this.internalValue = value;\n\n      if (this.listener) {\n        this.listener.next(value);\n      }\n    }\n    /**\n     * Produce an error\n     */\n    // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n\n  }, {\n    key: \"error\",\n    value: function error(_error) {\n      if (this.listener) {\n        this.listener.error(_error);\n      }\n    }\n    /**\n     * Called by the stream. Do not call this directly.\n     */\n\n  }, {\n    key: \"start\",\n    value: function start(listener) {\n      this.listener = listener;\n      listener.next(this.internalValue);\n\n      if (this.callbacks) {\n        this.callbacks.onStarted();\n      }\n    }\n    /**\n     * Called by the stream. Do not call this directly.\n     */\n\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      if (this.callbacks) {\n        this.callbacks.onStop();\n      }\n\n      this.listener = undefined;\n    }\n  }]);\n\n  return DefaultValueProducer;\n}();\n\nexports.DefaultValueProducer = DefaultValueProducer;","map":null,"metadata":{},"sourceType":"script"}